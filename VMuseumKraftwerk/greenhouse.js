!function(e){function t(t){for(var a,s,i=t[0],l=t[1],u=t[2],h=0,p=[];h<i.length;h++)s=i[h],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={1:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=l;o.push([327,0]),n()}({209:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{constructor(){this.currState=null}switchState(e){this.currState!=e&&(null!=this.currState&&null!=this.currState.leave&&this.currState.leave(),this.currState=e,null!=this.currState&&null!=this.currState.enter&&this.currState.enter())}update(){null!=this.currState&&null!=this.currState.update&&this.currState.update()}}},327:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(18),o=(n(214),n(110)),s=n(26),i=n(77),l=n(145),u=n(147),d=(n(29),n(36),n(184)),h=(n(224),n(73)),p=n(134),c=(n(225),n(79)),f=(n(202),n(129),n(159),n(59),n(16)),g=n(63),w=(n(83),n(37)),b=n(173),v=(n(166),n(125),n(94)),x=n(126),S=(n(135),n(302),n(60)),m=n(209);let y=[0*Math.PI/2,1*Math.PI/2,2*Math.PI/2,3*Math.PI/2,4*Math.PI],O=[["front_walls"],["left_wall"],["back_wall"],["right_wall"]];!async function(){const e=document.getElementById("renderCanvas");o.a.DefaultLogoUrl="assets/JADI_2020_logo.png",o.a.DefaultSpinnerUrl="assets/JADI_spinner.svg";const t=new a.a(e);var n=await async function(e,t){var n=new r.a(t);n.createDefaultEnvironment({groundTexture:"assets/backgroundGround.png",skyboxTexture:"assets/backgroundSkybox.dds",environmentTexture:"assets/environmentSpecular.env",enableGroundShadow:!0,groundYBias:1}).setMainColor(s.b.FromHexString("#74b9ff"));new HemisphericLight("hemilight",new s.g(0,0,1),n);var a=new l.a("light",new s.g(-1,1,1),n);a.position=new s.g(0,0,0);var o=new h.a(1024,a);o.bias=1e-5,o.normalBias=.01,o.useBlurExponentialShadowMap=!0,o.blurKernel=32;var P=new d.a(n);P.addMeshTask("house task","","assets/","greenhouse.glb");var T=P.addBinaryFileTask("font","assets/Oswald-Medium.ttf");await P.loadAsync();var _=new FontFace("Oswald",T.data);document.fonts.add(_),console.log("Fontloaded");var I=n.getMeshByName("__root__");I.scaling.scaleInPlace(2.5),n.getMaterialByName("Glass").alpha=.1,o.addShadowCaster(I,!0);var M=new u.a("Omni0",new s.g(1,4,3),n);M.setEnabled(!1);var L=new p.a("lensFlareSystem",M,n);c.a.AddFlare(.2,0,new s.b(1,1,1),"assets/lens5.png",L),c.a.AddFlare(.5,.2,new s.b(.5,.5,1),"assets/lens4.png",L),c.a.AddFlare(.2,1,new s.b(1,1,1),"assets/lens4.png",L),c.a.AddFlare(.4,.4,new s.b(1,.5,1),"assets/Flare.png",L),c.a.AddFlare(.1,.6,new s.b(1,1,1),"assets/lens5.png",L),c.a.AddFlare(.3,-.4,new s.b(1,1,1),"assets/lens4.png",L);var B=new i.a("camera",-2,1,7,new s.g(0,1,0),n);B.panningAxis=s.g.Zero(),B.lowerBetaLimit=.2,B.upperBetaLimit=1.6,B.lowerRadiusLimit=3,B.upperRadiusLimit=10,B.useBouncingBehavior=!0,B.bouncingBehavior.lowerRadiusTransitionRange=.5,B.bouncingBehavior.upperRadiusTransitionRange=-.5,B.attachControl(e,!0);var F=b.a.CreateFullscreenUI("fsGUI");F.idealWidth=800,F.idealHeight=600,F.useSmallestIdeal=!0;var A=x.a.CreateImageOnlyButton("backicon","assets/arrow-left-solid.svg");A.thickness=0,A.verticalAlignment=w.a.VERTICAL_ALIGNMENT_TOP,A.horizontalAlignment=w.a.HORIZONTAL_ALIGNMENT_LEFT,A.width="60px",A.height="60px",A.paddingTop="10px",A.paddingLeft="10px",A.onPointerUpObservable.add((function(){window.open("tour.html","_self")})),F.addControl(A);var E=new m.a,k={enter:function(){if(console.log("Entering start state"),null==this.tutText){this.textPos={left:0,top:0,fontSize:64,lineSpacing:-30};var e=new v.a;e.textWrapping=!0,e.lineSpacing=this.textPos.lineSpacing,e.paddingLeft=e.paddingRight=.1,e.fontFamily="Oswald",e.text="Explore the technologies of a green house!",e.color="white",e.shadowBlur=3,e.shadowOffsetX=e.shadowOffsetY=3,e.fontSize=this.textPos.fontSize,e.left=this.textPos.left,e.top=this.textPos.top,F.addControl(e),this.tutText=e}else new S.a.Tween(this.textPos).to({left:0,top:0,fontSize:64,lineSpacing:-30},500).easing(S.a.Easing.Cubic.Out).onUpdate(()=>{this.tutText.left=this.textPos.left,this.tutText.top=this.textPos.top,this.tutText.fontSize=this.textPos.fontSize,this.tutText.lineSpacing=this.textPos.lineSpacing}).start();var t=new v.a;t.fontFamily="Oswald",t.text="Tap/click to start!",t.color="white",t.textWrapping=!0,t.lineSpacing=-30,t.paddingLeft=e.paddingRight=.1,t.shadowBlur=3,t.shadowOffsetX=t.shadowOffsetY=3,t.fontSize=.6*this.textPos.fontSize,t.left=this.textPos.left,t.top="200px",F.addControl(t),this.tapText=t,this.pointerObserver=n.onPointerObservable.add(e=>{e.type==f.a.POINTERDOWN&&E.switchState(z)}),this.kbObserver=n.onKeyboardObservable.add(e=>{e.type==g.a.KEYDOWN&&E.switchState(z)})},leave:function(){console.log("Leaving start state"),n.onPointerObservable.remove(this.pointerObserver),n.onKeyboardObservable.remove(this.kbObserver),F.removeControl(this.tapText);new S.a.Tween(this.textPos).to({left:0,top:230,fontSize:24,lineSpacing:-10},1e3).easing(S.a.Easing.Cubic.Out).onUpdate(()=>{this.tutText.left=this.textPos.left,this.tutText.top=this.textPos.top,this.tutText.fontSize=this.textPos.fontSize,this.tutText.lineSpacing=this.textPos.lineSpacing}).start()}},z={enter:function(){console.log("Entering gameplay state")},update:function(){B.alpha=function(e){for(;e>2*Math.PI;)e-=2*Math.PI;for(;e<0;)e+=2*Math.PI;return e}(B.alpha);for(let e=0;e<y.length-1;e++)if(B.alpha>=y[e]&&B.alpha<=y[e+1]){console.log("hiding",e,B.alpha,y[e],y[e+1]);for(let t=0;t<O.length;t++){const a=O[t];for(let r=0;r<a.length;r++){n.getNodeByName(a[r]).isVisible=t==e}}}},leave:function(){console.log("Leaving gameplay state")}};return E.switchState(k),n.onBeforeRenderObservable.add(()=>{E.update(),S.a.update()}),n}(e,t);n.debugLayer.show({overlay:!0,embedMode:!0}),window.addEventListener("resize",(function(){t.resize()})),t.runRenderLoop(()=>{n.render()})}()}});